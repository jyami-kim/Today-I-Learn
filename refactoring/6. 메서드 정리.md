# Chapter6. 메서드 정리

### 1. 메서드 추출

어떤 코드를 그룹으로 묶어도 되겠다고 판단될 땐 그 코드를 빼내어 목적을 잘 나타내는 직관적 이름의 메서드로 만들자.

##### 동기

- 메서드가 너무 길거나 코드에 주석을 달아야만 의도를 이해할 수 있을 때
- 메서드가 적절히 잘게 쪼개져있으면 다른 메서드에서 쉽게 사용할 수 있다.
- 상위 계층의 메서드에서 주석 같은 더 많은 정보를 읽어들일 수 있다.
- 재정의하기 훨씬 수월하다



### 2. 메서드 내용 직접 삽입

메서드 기능이 너무 단순해서 메서드명만 봐도 너무 뻔할 땐, 그 메서드의 기능을 호출하는 메서드에 넣어버리고 그 메서드는 삭제하자

##### 동기

- 잘못 쪼개진 메서드에 적용을 할 수 있다.
- 필요한 인다이렉션을 정리하고 나머지는 제거할 수 있다.



### 3. 임시변수 내용 직접 삽입

간단한 수식을 대입받는 임시변수로 인해 다른 리팩토링 기법 적용이 힘들 땐 그 임시변수를 참조하는 부분을 전부 수식으로 치환하자



### 4. 임시 변수를 메서드 호출로 전환

수식의 결과를 저장하는 임시변수가 있을 땐 그 수식을 빼내어 메서드로 만든 후, 임시변수 참조 부분을 전부 수식으로 교체하자. 새로 만든 메서드는 다른 메서드에서도 호출이 가능하다.

##### 동기

임시변수는 일시적이고 적용이 국소적 범위로 제한된다는 단점이 있다. 임시변수에 접근하려다보면 코드는 길어지기 마련이다.

대부분의 경우 메서드 추출 적용 전에 반드시 적용해야한다.

임시변수에 값이 한번만 대입되고 대입문을 이루는 수식에 문제가 없을 때 가장 간단한 상황이다.



### 5. 직관적 임시변수 사용

사용된 수식이 복잡할 땐 수식의 결과나 수식의 일부분을 용도에 부합하는 직관적 이름의 임시변수에 대입하자

##### 동기

메서드 추출 기법을 더 선호한다





### 6. 임시변수 분리

루프 변수나 값 누적용 임시변수(collecting temprary variable)가 아닌 임시변수에 여러 번 값이 대입될 땐 각 대입마다 다른 임시변수를 사용하자

##### 동기

- 임시변수에 값이 여러번 대입될 때는 괜찮다 (루프변수, 값 누적용 임시변수)
- 그 밖의 임시변수늩 긴 코드의 계산 결과를 나중에 간편히 참조할 수 있게 저장하는 용도로 사용된다. > 이럴 경우 값이 한 번만 대입되어야 한다.



### 7. 매개변수로의 값 대입 제거

매개변수로 값을 대입하는 코드가 있을 땐 매개변수 대신 임시변수를 사용하게 수정하자 

##### 동기

- 자바는 '값을 통한 전달'만 사용한다
- 값을 통한 전달은 어떤 매개변수 값 변화도 호출한 루틴에 반영되지 않는다.
- 긴메서드에는 다른 코드가 매개변수에 새 값을 대입하는지 쉽게 파악하려고 final 키워드를 사용한다



### 8. 메스드를 메서드 객체로 전환

지역변수 때문에 메서드 추출(extract method)을 적용할 수 없는 긴 메서드가 있을 땐 그 메서드 자체를 객체로 전환해서 모든 지역변수를 객체의 필드로 만들자 그런 다음 그 메서드를 객체 안의 여러 메서드로 쪼개면 된다.

##### 동기

- 지역변수가 많으면 메서드를 쪼개기 힘들 수 있다. > 이런 어려움이 어느정도 해소가 된다.
- 모든 지역변수가 메서드 객체의 속성이 된다.



### 9. 알고리즘 전환

알고리즘을 더 분명한 것으로 교체해야 할 땐 해당 메서드의 내용을 새 알고리즘으로 바꾸자

##### 동기

- 문제에 관해 점점 알아가다가 그보다 더 간단한 방법이 있을음 알게 되었을 대 사용한다.
- 라이브러리 일부 코드가 자신의 코드와 중복될 때도 마찬가지다

