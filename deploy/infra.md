

AWS는 default VPC를 만들어준다.

A 서비스 인스턴스 
B 서비스 인스턴스

VPC : 사설망, 인트라넷

- ip 대역을 공유한다.
- 같은 VPC에 있으면 보안그룹열면 서로 통신이 가능함 : 그러나 다른 서비스가 통신이 되는게 이상함

리전 : ap-northeast-2 (서울)

멀티 리전 :  ap-… (다른 리전)

가용 영역 : a, b, c

인스턴스 : ap-northeast-2a



이중화, 가용성 : 이중화를 통해서 가용성을 획득한다.

이중화 : 같은 애플리케이션을 여러 영역에 배포하는 것
가용성 : 서비스를 얼마나 잘 이용 되는가? (a, b 배포되었을때 a가 죽어도 b로 이용할 수 있다.)



IP 범용 대역

A 클래스 : 192.16.0.0/8		: 2^24 개의 IP 가능
B 클래스 : 192.16.0.0/16	: 2^16 개의 IP 가능
C 클래스 : 192.16.0.0/24	: 2^8 개의 IP 가능



사이더 : IP 범용 대역을 좀 더 쪼갤 수 있도록 하는 표기 법
192.16.0.0/20 	: 20 비트로 사이더를 지정함



pub-a : internet gateway(IGW)가 있는 서브넷 : 퍼블릭 서브넷 
모든 요청에대해서 IGW로 보내는 라우팅 테이블이 있음 ) 0.0.0.0/0 [IGW]

pri-a / pub-c / pri-c



옛날에는, public에 web, private에 was,db

요즘에는 private에 전부 넣는다 : web, was, db

그래서 LB (load Balancer)에서 80으로 들어온걸 포트포워딩해서 web의 8080으로 들어간다.



VPN을 열었으면 지정한 IP에서만 서브넷에 접속 할 수 있는 것.

NAT 는 퍼블릭 서브넷에 있음 [프라이빗 리소스가, 바깥으로 나가서 다운로드 받아오는 용도]

bastion, host = jumping server : 우리가 pem키를 갖고와서 안으로 접근한다. (퍼블릭 서브넷에 있음)


routing table은 서브넷 별로있고, 
보안그룹은 인스턴스별로 있다.



ALB / NLB : 로드밸런서 종류 (ALB : http / NLB : tcp/IP)
LB얘기, 스케일 아웃(대수 늘리기), 스케일 업(사이즈 업)
ASG (auto scaling group) : 10% 부하가 넘으면 여러개의 가용영역에 걸쳐져있는 인스턴스를 스케일 아웃한다.