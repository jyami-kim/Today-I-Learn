# Item31. 문서로 규약을 정의하라

### 규약

요소의 규약(contract of element) : 예측되는 행위

규약이 적절히 정의되어 있다면, 독립적으로 작업할 수 있다.

- 클래스를 만든 사람은 클래스가 어떻게 사용될지 걱정하지 않아도 된다.
- 클래스를 사용하는 사람은 클래스가 내부적으로 어떻게 구현되어 있는지를 걱정하지 않아도 된다.



### 규약 정의하기

- 이름 : 일반적인 개념과 관련된 메서드는 이름만으로 동작을 예측할 수 있다.
- 주석과 문서 : 필요한 모든 규약을 적을 수 있는 강력한 방법
- 타입 : 리턴타입, 아규먼트 타입



### 주석

- 과거 : 문학적 프로그래밍 (literate programming) : 주석으로 모든 것을 설명하는 프로그래밍
- 현재 : 주석없이도 읽을 수 잇는 코드 작성

함수이름과 파라미터만으로 정확하게 표현되는 요소에는 따로 주석을 넣지 않는다.



### KDoc 형식

KDoc : 주석으로 함수를 문서화 할 때 사용되는 공식적은 형식

구조

- 첫 번째 부분 : 요소에 대한 요약 설명 (summary description)
- 두 번째 부분 : 상세 설명
- 이후 모든 부분 : 태그 (추가적인 설명)
  - `@param <name>` : 함수 파라미터 또는 클래스,프로퍼티, 함수 타입 파라미터를 문서화
  - `@return` : 함수의 리턴 값을 문서화
  - `@constructor` : 클래스의 기본 값을 문서화
  - `@receiver` : 확장 함수의 리시버를 문서화
  - `@property <name>` : 명확한 이름을 갖고있는 클래스의 프로퍼티를 문서화
  - `@throws <class>, @exception <class>` : 메서드 내부에서 발생할 수 있는 예외를 문서화
  - `@sample <identifier>` : 정규화된 형식 이름(specified qualified name)을 사용해서 함수의 사용 예를 문서화
  - `@see <identifier>` : 특정한 클래스 또는 메서드에 대한 링크 추가
  - `@author` 요소의 작성자 지정
  - `@since` : 요소에 대한 버전 지정
  - `@supress` : 만들어지는 문서에서 해당 문서 제외, 외부에서는 사용할 수는 없지만, 공식 API에 포함할 필요는 없는 요소에 지정

생성 도구의 이름 : Dokka



### 타입 시스템과 예측

리스코프치환 원칙(Liskov substitution principle) : S가 T의 서브타입이라면, 별도의 변경이 없어도 T타입 객체를 S타입 객체로 대체할 수 있어야한다.

클래스가 어떤 동작을 할 것이라 예측되면, 그 서브클래스도 이를 보장해야한다.



### 조금씩 달라지는 세부사항

언어는 어떤 식으로 작동해도 괜찮지만, 좋은 방식들을 기억하고 이를 적용해서 사용하는 것이 좋다.

구현의 세부사항은 항상 달라질 수 있지만, 최대한 많이 보호하는 것이 좋다.

캡슐화 : 사용자가 구현에 신경을 많이 쓸 필요가 없어지므로, 더 많은 자유를 갖게 된다.

